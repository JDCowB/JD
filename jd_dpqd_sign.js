/*
活动名称：批量店铺签到
活动链接：https://h5.m.jd.com/babelDiy/Zeus/2PAAf74aG3D61qvfKUM5dxUssJQ9/index.html?token=<token>
环境变量：jd_dpqd_tokens // 活动令牌，多个用英文逗号分割
        jd_dpqd_task_threads // 控制签到并发线程数（正整数），默认1
        jd_dpqd_account_threads // 控制账号并发线程数（正整数），默认1
        jd_dpqd_account_interval // 自定义运行间隔时长（整数，单位毫秒），默认0
        jd_dpqd_max_retry // 签到火爆时的最大重试次数（整数），默认0
        jd_dpqd_prize_notify // 是否推送中奖信息（true/false），默认不推送

此脚本为高并发签到本，需要读取主脚本生成的活动信息缓存，自动过滤无效活动，签到后如有奖品则自动到账

7 7 7 7 *

*/

const $ = new Env('批量店铺签到')
const jdCookie = require('./jdCookie')
const notify = require('./function/sendJDNotify')
const common = require('./function/jdCommon')
const { H5st, jsTk } = require('./function/jdCrypto')

var iｉl='jsjiami.com.v7';function IIi1I1l(_0x233a92,_0x5b9559){const _0x2d59cd=iIi1I1i1();return IIi1I1l=function(_0x397ac8,_0x34461b){_0x397ac8=_0x397ac8-0x175;let _0x3756a9=_0x2d59cd[_0x397ac8];if(IIi1I1l['ujjTOd']===undefined){var _0x45d14b=function(_0x215097){const _0x51a7c7='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4947de='',_0x3c7f0b='';for(let _0x15c768=0x0,_0x435d8c,_0x275f2b,_0x1ac979=0x0;_0x275f2b=_0x215097['charAt'](_0x1ac979++);~_0x275f2b&&(_0x435d8c=_0x15c768%0x4?_0x435d8c*0x40+_0x275f2b:_0x275f2b,_0x15c768++%0x4)?_0x4947de+=String['fromCharCode'](0xff&_0x435d8c>>(-0x2*_0x15c768&0x6)):0x0){_0x275f2b=_0x51a7c7['indexOf'](_0x275f2b);}for(let _0x1ea19f=0x0,_0x524452=_0x4947de['length'];_0x1ea19f<_0x524452;_0x1ea19f++){_0x3c7f0b+='%'+('00'+_0x4947de['charCodeAt'](_0x1ea19f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3c7f0b);};const _0x5dd72e=function(_0x3006b2,_0x4b93f2){let _0x3de69f=[],_0x54966c=0x0,_0x572d20,_0x27d242='';_0x3006b2=_0x45d14b(_0x3006b2);let _0x436de4;for(_0x436de4=0x0;_0x436de4<0x100;_0x436de4++){_0x3de69f[_0x436de4]=_0x436de4;}for(_0x436de4=0x0;_0x436de4<0x100;_0x436de4++){_0x54966c=(_0x54966c+_0x3de69f[_0x436de4]+_0x4b93f2['charCodeAt'](_0x436de4%_0x4b93f2['length']))%0x100,_0x572d20=_0x3de69f[_0x436de4],_0x3de69f[_0x436de4]=_0x3de69f[_0x54966c],_0x3de69f[_0x54966c]=_0x572d20;}_0x436de4=0x0,_0x54966c=0x0;for(let _0x382db1=0x0;_0x382db1<_0x3006b2['length'];_0x382db1++){_0x436de4=(_0x436de4+0x1)%0x100,_0x54966c=(_0x54966c+_0x3de69f[_0x436de4])%0x100,_0x572d20=_0x3de69f[_0x436de4],_0x3de69f[_0x436de4]=_0x3de69f[_0x54966c],_0x3de69f[_0x54966c]=_0x572d20,_0x27d242+=String['fromCharCode'](_0x3006b2['charCodeAt'](_0x382db1)^_0x3de69f[(_0x3de69f[_0x436de4]+_0x3de69f[_0x54966c])%0x100]);}return _0x27d242;};IIi1I1l['IBWzoc']=_0x5dd72e,_0x233a92=arguments,IIi1I1l['ujjTOd']=!![];}const _0x5c22f0=_0x2d59cd[0x0],_0x5e5042=_0x397ac8+_0x5c22f0,_0x50205a=_0x233a92[_0x5e5042];return!_0x50205a?(IIi1I1l['yddMTv']===undefined&&(IIi1I1l['yddMTv']=!![]),_0x3756a9=IIi1I1l['IBWzoc'](_0x3756a9,_0x34461b),_0x233a92[_0x5e5042]=_0x3756a9):_0x3756a9=_0x50205a,_0x3756a9;},IIi1I1l(_0x233a92,_0x5b9559);}const IIilIiIl=IIi1I1l;(function(I1I1l1,lI1IIi1,iililiIl,l1i1IIil,illIIllI,ll1iliI1,lli1Iiil){return I1I1l1=I1I1l1>>0x5,ll1iliI1='hs',lli1Iiil='hs',function(ili1ll1I,ili1iIiI,i1ill1ii,lIII11I,II1i1i1l){const I111IIl=IIi1I1l;lIII11I='tfi',ll1iliI1=lIII11I+ll1iliI1,II1i1i1l='up',lli1Iiil+=II1i1i1l,ll1iliI1=i1ill1ii(ll1iliI1),lli1Iiil=i1ill1ii(lli1Iiil),i1ill1ii=0x0;const l1l111I=ili1ll1I();while(!![]&&--l1i1IIil+ili1iIiI){try{lIII11I=parseInt(I111IIl(0x268,'IJYy'))/0x1+-parseInt(I111IIl(0x238,'m2tm'))/0x2*(-parseInt(I111IIl(0x2a0,'EB[s'))/0x3)+-parseInt(I111IIl(0x232,'JXKo'))/0x4*(parseInt(I111IIl(0x23c,'Mv[!'))/0x5)+-parseInt(I111IIl(0x2a3,'4y!3'))/0x6+-parseInt(I111IIl(0x1a7,'HjdH'))/0x7*(parseInt(I111IIl(0x28a,'A[Vk'))/0x8)+parseInt(I111IIl(0x1b1,'RyQS'))/0x9*(parseInt(I111IIl(0x17a,'KzZc'))/0xa)+parseInt(I111IIl(0x1a4,'5F(^'))/0xb;}catch(lIiilil){lIII11I=i1ill1ii;}finally{II1i1i1l=l1l111I[ll1iliI1]();if(I1I1l1<=l1i1IIil)i1ill1ii?illIIllI?lIII11I=II1i1i1l:illIIllI=II1i1i1l:i1ill1ii=II1i1i1l;else{if(i1ill1ii==illIIllI['replace'](/[hrxwIARkeVOELKHYTqUuJl=]/g,'')){if(lIII11I===ili1iIiI){l1l111I['un'+ll1iliI1](II1i1i1l);break;}l1l111I[lli1Iiil](II1i1i1l);}}}}}(iililiIl,lI1IIi1,function(llilII,liIliI11,I1Il1i1i,iI11IIiI,l1I111,ll1llii,iIIiIII1){return liIliI11='\x73\x70\x6c\x69\x74',llilII=arguments[0x0],llilII=llilII[liIliI11](''),I1Il1i1i=`\x72\x65\x76\x65\x72\x73\x65`,llilII=llilII[I1Il1i1i]('\x76'),iI11IIiI=`\x6a\x6f\x69\x6e`,(0x15be9b,llilII[iI11IIiI](''));});}(0x1960,0x5869a,iIi1I1i1,0xcd),iIi1I1i1)&&(iｉl=iIi1I1i1);let tokensList=(process[IIilIiIl(0x1b2,'Qvse')][IIilIiIl(0x216,'5)IQ')]||'')[IIilIiIl(0x17f,'CkAO')](',')||[],taskThreads=process[IIilIiIl(0x1d8,'lkzb')][IIilIiIl(0x1dd,'IJYy')]||'1',accountThreads=process[IIilIiIl(0x2fb,'sJ)q')][IIilIiIl(0x259,'8cmA')]||'1';const runInterval=process[IIilIiIl(0x231,'Mv[!')][IIilIiIl(0x2db,']VI5')]||'',isNotify=process[IIilIiIl(0x1d7,'7kvZ')][IIilIiIl(0x183,'Qj5[')]===IIilIiIl(0x19f,'c$[R');let signHotMaxRetryTimes=process[IIilIiIl(0x231,'Mv[!')][IIilIiIl(0x27f,'Qd*A')]||'0',TokensMap=null;function iIi1I1i1(){const i1i1illl=(function(){return[...[iｉl,'AleYjHEswujOkiTarRmTxHiI.KcUJhoImq.LVHv7==','mNXRoua','W7TkWPCaW5K','WPZINQ/dHEkCQLlNR4tLIANLPlFOTASbmGG','gCocjCoMrXv3bKRcL8oJW5/cNCoDavaFWQeCfvldLbm','W6JdLCoGcd5ga8kihs/cLmkSfmkYWP9HW4S9W5/dQcxdIZeC','g8oonSogqa','WRhcMmow','DHFcQgVcQG','sgFdKSolW58','WP7dKMfJ','yvtcTW/cRa','WQWbWORdJmkm','smoPWO/cMmo4','wNtcQZtcH8kQWRChW6/dPCoSiW','j+kETLpINRhdLoEVS+wkNEwKPEI0K++9Va','WQtdJ8klW7y7WRzhWRPgDgOpW5W','BIOcgSo8','tKjMe8ka','WO0QW6hdKmoyW4JcU8oxWQDkWQWq','W5ZdTmkLDCom','WOeXWRutW6u7','W7pcNSo1WODt','5l6U5OkW5yMh8kcMNE+6QW','W6eVWOSNba','yhxdN05JW4tdOfe2','W5hcRJGNpW','cgnSo0a','WQ5wW69Hea','atFcOgbc','WRuXWRqPW6K','BtpcTrZdVa','WOjyW6Dv','zeuxWPG','W609WQO2FSkpsCk8BgG','W4FcSHi8oq','iYdcKSoaW5K','W77dMCkcvSo3WQmD','tabJ','zSorACo+hq','WRH0W4f2fa','jGFcK2Hz','W73cNSoIWQz5W7mvWRr/DNG/W43cGmkmWQZcOW','vbOFkCo+','wJqVpa','WQfyoCkZk8oxzaS','W5BcTJe+nq','WQ1RfCo7mmkF','4PICe+ISKUweRUI+OUIJTUs5OUIeNoADOUIoLUwpIEA0K+wiHos/SEAaM+E9GowUH+wqT+weHUI/U+IIV+ASR+IhS+AEPU+9HG','WPP4W63cIZ/cISkiCa5BWR0','WRnboCk0c8onwHFdPWG','WPK9W7ymna','vfpcRXhcRq','WRrOW7CneCk4qCkfuG','WQ1GW53cKL4','isRcQgfa','44cx6lsm5y6e','W7rdWRJcP8ky','hCohf8oN','g2GchCkp','vCoqvCoFjtBdQHtcQxOFtepcMmoYvCk9sCkpFLhdOmkPW5aSW5FcGSotWRulW4f0W5KwW70WsSk+WR3dOq','WQKrW63dKuG','W5BcQGKZhW','WQX5WPBcR8kE','CwJcNclcTG','W5VdISkguCod','xJtcTH4','DYBdTSkwWPC','s8oFsmooaZ7dPau','WPVdL3zQW4NcR0lcR8o6s8krWOq3','WPmlkZDq','W656WPmzW6CEFM4','AKCaWOZcRG','W6TNxam','W6FdJCkrvCkpW4FdM8olWR5rqmkyWOzO','ggBdQL/cPCoUWQnMcSoTW5G','WPjZpSoFga','zSouDCo0ha','WQZdT07cQmkbW4pdPtyYeYNcVSot','zhRdMmoIW5W','WQpcKCopc8oy','4PM9x+IgQEwVMos5VEI+R+IHUEMvKUMAVUAvJ+MvJUIVUoE/VUMvLUITKq','W6zmuqiL','WRDki8kUgmoq','vCoSbSozoq','W7ldG8ksDq','mbndW43cSmooW4DGwJW','5yAvnowoH/c5JyK','gcZcSSoKW5hdL8on','vtqS','5Rss5yU95Ps/5PsI','sxtdLmof','W7FdUmoXit8','D0SbWPZcMCo+W6L1qHu','b8o+amoiDa','W6xdJ8oupWu','W54jWP4ikq','W5H8WQe','W7dcS8oLBfb7W47cKW','WR1aW6VcSxe','m8oCdGKX','6lwS5y2h5PAM5Psz','WQiyWR/dUSkP','WOXdkSoomW','W7tdMSozhre','zr/cK07cJa','W6FdVSkCFmov','amond8omvGL2','wxnXfa','E8oTwCo4ma','W5tcTCo6WOPR','W4WQWQ4eoq','tZ3dO8kVWRC','WQHkma','W6zgWPWTfa','vZbFWPK','W7K5jHyF','W6PkWPdcVmkk','h1q+gSoKW4tdJCojt8oDW6JcR1pdQZiZW60','FwauWPFdNG','W4u4fHK4','WQKUcYbf','AhpcR8om','WQuUWQ0FW6O','WQXnWPJcSSkC','W7dcN8otWPDi','WRTcW7P7gq','WR0kW6Hwk8kWWOfLhgKDW70','FgFcQmof','WOrOgCoBkG','W4T6xaSL','xeDPdmkw','lmoqnmkpxq','pZbsWPhdP8oGz0FdGSomW6aYW4OlESkegCkMW5e','WOOMWPKEW7iKW446CCkewshcJgtcVePZsW8gW6dcTSk5WO8','a8otcCoQ','WPfdW5XafSk/','W7LEWRepeW','WO1CiLHW','W7pcRr8','cgnlc2e','WOX1lSkQW6a','oSoFd8o3ya','W5eugXaE','WO7cSSoLfSo5','qu/dI8ogW7G','dCoNaa','5RwA5yIG5Bg95P+a5BYk5AE4','q2LReG','W7BdS8o+fam','W63cRWKNoa','lSormbWv'],...(function(){return[...['DMGdWOJcTG','tJOIlCohbrSe','WRLVp8oziq','rwSAWONdHa','dd4kWPVdUa','p8o1omoaxG','W5xdOSkqqSoX','k8odntGuAG','WRerW6i','q3hcTSojW48','g8ookSkAua','k8oPiCkqqa','WRFINABcNEkFHYNNR7ZLIyhMI7VLIO0','oYVcLgbtW6y','WOVdIwq','xtO/oa','dUkCTmon4P+YWQ3NR6FLI4tMIkRLIRRVVPC','EJJdLCkXWOS','W6vbxY4T','W7L0WOxcO8kA','W5vDWPedamoBoNiEu3zsW4LdhYBcK1ddUf8','F3lcQttcH8k2','wttcRrNdSq','W7FdGmo9dbKvqCoc','WQhINPqv4PYHv+ETN+wlQ+wNT+I1MU+/Lq','W6ZdUCoEgGm','kbi2WOldRq','EcxdMSkVWPG','qJdcPHK','WQKAoZyBd1NdH0pdLW','msRcG2a','e1fVd3T5','WPe4msLN','yMCA','zYhcTX/dSa','W6iwWRS1pa','b3DVj1K','rmo8z8owaW','W6O3WQG','rNn2oSk+thG','W610WPeiW51k','AYZdMCkPWPO','sxS/WO7cVG','WQnai2fizMNdHSkxhJxcSt18','WQTzdmktW4a','wsXC','W7e5WQyY','W5xcOXFdL8oM','5yw357U95yY+8ycKOW','W5uCoH49','ysBdKa','WPvVW7L6pa','ktCy','BL7cOJBcUa','5PYT55+p5AsL5zc877+8','77YW8kMROa','WRjeW7r5nq','4PQ3zUISRowfLUI8LUIJKEs5L+IhL+ADOEIpI+wmL+A0SowiQ+s9UEAcSoE9HUwTKUwsPoweQoI+PoIIJoAVN+IfJEAFGE+8SW','D0tdTSoVW4q','wNnHh8k3xMW','WRSqWPy','WRLaW4ZcPxFcGSkXuJ4','smobWOpcLSoHW7xcJq','WQOFW6ZdSuLcgI0','WOHsp05V','W7FcTGZdRmoaW43dVeGorw3cVmkEbtjvWPddSSk8AaKMWPpcKSkAWQhcOgXkgLSsodNcRXJdKsCbzge4z8oIWOVcV8oRxSo4FYKqWO/dSSk+W6pdMcFdUrldU8kjg3xcQh7cGmorW5jSomoQkq','WOu6WQ8o','v3ZdK0ra','WOv+tvf9WOO2','W7xdVSkoxCox','W5r1WP0Gma','qK8pWPRdUq','WRjWamoxlmkkWRTEuW','c29ZamoufJS2WOe','W6NdVSo0hJa','sConWPNcV8k4W6RcGa','WRScWOe','eeyBlSk/','WQCAaJn+','imo6e8k5rW','DrPXWRBcTW','qsTDW5hdVa','he8JcW','otfnW4hdRSosWPPcWRldKq','W5JcGaG+eq','W4T1WOSoW5G','zY53WOZcPq','xK/dUMb9','oCoakJGh','DSomsmoCbq','WOfjpeHp','q1zafCkx','WQTGlCoAmSkCWRzNwG/dIHe6WOxdSY41j8oyCa','WQL1nmoojW','BxxdOhPS','WQ9dW6TfgW','rdtcQNBcTG','WPdcM8oLfCop','Dg3dV0TG','WPyVW6yFkW','rZnZWPpcKG','ysDqWP/cSq','laVcR8ooW4q','c0vhaM4','xNRdR8oaW4W','WQRMTyRLIy7LPRlNGQpNIz0','W7WXoqug','s8kNtq','WOjXW5zhoa','WQvypCkIuSorEWFdRGjD','WPuvW7K+nW','W7xdQCoendu','itW3WPFdSW','zufWf8kb','eSoHamkesvZdQKZdKSoBWRPHW47dLHC','rvKgWP/cUq','6ls/5y+S5PsL5PsiW4lXJPMO','sLhdHmolW78','z8onWO/cMSo4','44on5O6U56A/44ku6k+Q5ywJ6i+a5y6EWRqTWQ8vq1G','c0z0dq','4PUbWQJOHO3LRBdKUypOV6pOO4RPL5tPMkpMLy7PLRhORPJNV4NPLQNOROW','WQ1XWQlcGSk1WRddMa','W5bCWOi','WRCOWPFdQSkn','WQdcJCkPyvtdT8osWPHHW7hcGMddR2u','q0eBWPBdOG','W7BIN63dHUkENCoO56YL5yUX5OUD5yMZ776f','W6HoWRBcSIrogqtcVshcSa','WRfPm8ohlW','wcG4mmo0aG','WO3dIhXTW5tcRq','y3rRgSka','yMPqnCk3','xtfiWPNcTSkt','W7v0WP0','oSoFmGCJ','W7RcSmo0WPjn','WODKseKCW6bIAmopwG','WRmFWPa','WQ8BeHnG','5lQI6lgo8kcdHW','4PUQWPdORRhLHjNLR6NKUy3LVk3OPQVNMlVNJQ7LOA/LJOFPHPlLK7lLHyxOVBBOO63OHixMNPZVV4G','zJtcSZVdUW','rZPp','vfS/WO3cLq','dUkCTmon4P67WQ3NR6FLI4tLPiVOTidcVWmQ','WRtcRmopcmox','5PY15yQN5zU657MO5B+E','W5O/ga','vJtcR03cIW','EfZcO8o0W6S','WRlcNSoKkSo6'],...(function(){return['WQCZdtjD','WOGoW5CDcG','h8odnaiy','zKyF','DxtcOG','A08DWPRcGmoL','D3tdQcpcJCk2WRa','WRjXeCoDj8kEWQe','qmopD8o8','WPnsgM99','WR17WRG','vLRcNmoFW4m','WPWIWQRdLSkp','xwhdKwvW','W7q/jW4R','WOvXpCoAkW','W5xcPtldKCoN','WOOPW6BdKSosWPZcVCoIWR9KWRG','yCour8o3dW','WO1YbSo4ka','zspcQMVcO8oUga','FH4F','WQPDW4VcVeBcR8kRsG','W7tdGSka','W6rMqW','EGFdSSk2WQu','tqzYWRJcOG','qSkvt8k3bI5Nf0RcGCor','WQSyWQS4W7e','W5v9WORcGCkBWOJcT8oXWOfMWRSSW4XthColF2rLW6e','DxKDWRRcTG','W6NOR4xMS6FLKjlLUOBdRG','WQn+cmkqoa','W7m3rSklCCoCWRPbEdddHZW','W7/dPCk1uCos','W4tdU8o2ia8','tJdcQYNdU8olWRXbdSooW6JdMxtdNG','WQ/dSKG','jmorkZq','hIBcLxjV','WR4QoGvs','qvjpkCkZ','W7GEeG02','F3hcQCoeW4Lk','WOhcMComfCo0','hezKcxT0','yM0tWPBdNSo5','WOHaW5hcJf8','iSoemIeapSohbCoxnmocmNpcLSkSWOJdGNddNCoM','WPvRnCoscW','W6u3WQSJ','cZtcOgrL','W7XdWQ3cG8ka','W6e9WRSlnSkDvSk0FwG','cg98B8odkbiKWRRdRG','rComFmo2nW','Ah3cTCoi','eCoRd8kIyG','4P6rxUIgN+AEQEI/JEIHP+MaSowjUos5SEMvM+ISR3q','5lMl5PET5BEh56Yt','W5ddQCk8wSoO','5BMk6zke56wQ5yQd8jIETo+5Ua','mSoJfCoSCG','ACoWxCoObW','ouv0mK0','W58+cXO+W6DJq8oUESowWPJcPwFcSKZcLGvrzq','WOC3bdbo','pSoOpbSW','WQKgmYC','i3BcQ8oCW51HW4HcWR/cJxNcOM7dLmoTW7VcNa','W4DdWR7cImkY','W4BcHa8','WQuuWPi','W7lcOWG','cEkEMIlOROVMSPdLPjZOTlRVVjC','W6BcG8oEx3u','Ef9Qk8ku','WQDThSokj8kF','w3BcTCoDW7a','seNcKGFcKa','W4hINQVcO+IVH+AWVEwNOoI3SE++QUAuVowqG+w7REAxO+AnSo++M/c3QO4','WRS+W6uxfa','WPbsbq','W57dU8kCFSoV','dHVcP8ocW7C','W7qedtq5','WQr6WPpcKSkGWQ/dIbuEWPpdKKPLW4K','EdpcR1JcQSo8cW','t3RcSGBcOa','yW9ZWRtcRa','CalcV3hcLa','rmoBWOlcMCo9WQJdHaOw','WQrbW4i','q8onWP7cHmoSW77cKq','AfSuWPddIa','WOuRmIDq','jmoFmq','WROEWOe','W6BdJCkFzmopWQSxDW','WRxcKSogaa','W5H/WQa1iG','WOevWOJdQmkb','iSovjZuwDSkB','W4dIN57dPUkDV8kI56YR5yQA5OM15yQp','xapcNcBdNa','wdPvWPVcSmkp','DKO7WP3dVG','eCo3f8oVxq','WPqyWRhdNCkT','iJ0l','WOK0fXre','W5LZW7rkkCkEWOW','5RAQ5yIv5BwO57QE57Q15P6q','hY3cQW','aeldPvnruSoM','cgXYASkRxuy3WPBdRmkPF8or','fYRcSW','mSo9iqiK','x+kEQchINkqV562V5yIu5As/6lsw772A','BhiWWRJdGW','WQSVW4i0W7qnxLZdMG','W6H9WRVcLCkI','W6tcKSouWQr9','WRzanKLHAgZdJCkxeZRcPG','s3tdPmk7WOZcH8ktWRpdMCo5Dmo5na','WR11i8krmq','WQhdHKPmW7W','kCormJiB','W6tdRmonosG','WQuFWR/dSSkJ','W7/cVSo9y14','mmoLhmoauG','twdcR8o+W7q','WR9xm8kRcSoABb0','W58+dbO+W5a','FWBcTIJdJa','W6ZdHmo6hZKu','WQxcICoqdmotWPJcISkBWP0','WR5tW4ZcQ0BcP8k1ra','W73dJmo3jsW','FxBcJYtcGa','WOnzWPtcHSkH','W61PWRqdW5a','W4xdR8k3C8oZ','WQP/WRJcLW','h1S8jSk4','mSowaJK8','4P2amUAFSEIbKoAVMUEHKowMUoEqQ8o0','uIFcQKZcVa','W7dcU8oIBG'];}())];}())];}());iIi1I1i1=function(){return i1i1illl;};return iIi1I1i1();};const signStatusMessages={0x1805c007:IIilIiIl(0x1fb,'lkzb'),0x1843da61:IIilIiIl(0x2e8,'x]e#'),0x1843da62:IIilIiIl(0x230,'5F(^'),0x184253c7:IIilIiIl(0x2ba,'CkAO'),0x192:IIilIiIl(0x2af,'EB[s'),'-1':IIilIiIl(0x1bb,'JXKo')},invalidTokensMap=new Map(),CacheFile=__dirname+IIilIiIl(0x205,'aJ^]'),cookiesArr=Object[IIilIiIl(0x309,'EB[s')](jdCookie)[IIilIiIl(0x209,'4y!3')](II1I1IlI=>jdCookie[II1I1IlI])[IIilIiIl(0x20d,'Qj5[')](i111iIiI=>i111iIiI);!cookiesArr[0x0]&&($[IIilIiIl(0x339,'Qvse')]($[IIilIiIl(0x28f,'8cmA')],IIilIiIl(0x19e,'HjdH')),process[IIilIiIl(0x32f,']VI5')](0x1));!(async()=>{const lil11iIi=IIilIiIl,i1I1illI={'bQmmj':function(Ii1iIllI,liIi1I){return Ii1iIllI(liIi1I);},'gDdoR':function(iIl1I1ii,lIi1lI1i){return iIl1I1ii>lIi1lI1i;},'tXzJC':function(lI111liI,IllIII1I){return lI111liI!==IllIII1I;},'BtTnJ':function(Iili111l,IlIl1l1){return Iili111l===IlIl1l1;},'dcFOG':function(Ii11lIil){return Ii11lIil();},'Rnqck':function(II1ll11,lII1IlI1,lIiIIili){return II1ll11(lII1IlI1,lIiIIili);},'JaFzJ':lil11iIi(0x1b5,'CkAO'),'mATpm':function(IlilIliI,il1I11lI){return IlilIliI===il1I11lI;},'egCLw':lil11iIi(0x327,'jN(x'),'rdQQT':function(i1llIlIl,i111II,lli11lii,lliIlIl,i11lIlii,ii1li1){return i1llIlIl(i111II,lli11lii,lliIlIl,i11lIlii,ii1li1);},'tBtmx':function(I1ll1I1l,i1l1Ii1l){return I1ll1I1l<=i1l1Ii1l;},'DNfRj':lil11iIi(0x178,'z7X@'),'zeAqJ':lil11iIi(0x285,'^Ifo'),'wWJcn':lil11iIi(0x288,'myz6'),'xCnOV':function(li1lil1l,liIii111){return li1lil1l(liIii111);},'OWjnt':lil11iIi(0x2b9,'CkAO'),'FmPFq':lil11iIi(0x237,'KzZc'),'JfpAX':lil11iIi(0x2a6,'OQJL'),'JUggm':function(l1IlIl1I,iii1llI1){return l1IlIl1I(iii1llI1);},'zFMpZ':lil11iIi(0x17e,'JXKo'),'lXJbN':lil11iIi(0x24b,'5F(^'),'wWmSO':function(IIii1Ili,iIlIIIIi){return IIii1Ili!==iIlIIIIi;},'QYhWF':lil11iIi(0x325,'@ikx'),'BiWEe':lil11iIi(0x184,'Qj5['),'qBpuB':function(iiIil1II,lIi1llI){return iiIil1II!==lIi1llI;},'XQQNz':function(l1l1lIIl,lli1i1iI){return l1l1lIIl!==lli1i1iI;},'TCAch':lil11iIi(0x1e8,'OQJL'),'QRWGr':lil11iIi(0x18e,'c$[R')};try{notify[lil11iIi(0x1aa,'sJ)q')]({'title':$[lil11iIi(0x1e6,'CkAO')]});if(i1I1illI[lil11iIi(0x2e4,'RyQS')](tokensList[lil11iIi(0x30c,'c$[R')],0x0))tokensList=[...new Set(tokensList[lil11iIi(0x302,'JXxX')](illlI1ll=>illlI1ll!==''))];if(i1I1illI[lil11iIi(0x27e,'Qonz')](tokensList[lil11iIi(0x1ee,'KzZc')],0x0)){console[lil11iIi(0x313,'A[Vk')](i1I1illI[lil11iIi(0x2f8,'x]e#')]);return;}const IIIiiI11=i1I1illI[lil11iIi(0x22b,'8cmA')](require,'fs');if(IIIiiI11[lil11iIi(0x287,'ylUn')](CacheFile)){const II1IlIII=IIIiiI11[lil11iIi(0x23b,'Gd#d')](CacheFile,i1I1illI[lil11iIi(0x2f3,'7kvZ')]),Iii1iIIl=JSON[lil11iIi(0x303,'EB[s')](II1IlIII);TokensMap=new Map();for(const illIIIli in Iii1iIIl){TokensMap[lil11iIi(0x1ca,'5)IQ')](illIIIli,Iii1iIIl[illIIIli]);}}else{console[lil11iIi(0x221,'Qvse')](i1I1illI[lil11iIi(0x175,'OQJL')]);return;}$[lil11iIi(0x32c,'HjdH')]=null;if(runInterval)try{if(i1I1illI[lil11iIi(0x203,'CkAO')](i1I1illI[lil11iIi(0x2e1,'c$[R')],i1I1illI[lil11iIi(0x283,'w254')])){const iIIiil1=i1I1illI[lil11iIi(0x257,'m2tm')](ilil1Ii1,liII1lll);i1I1illI[lil11iIi(0x21a,'ovVH')](iIIiil1,0x0)&&i1I1illI[lil11iIi(0x320,'@ikx')](iIIiil1,0x1)&&(i1ill1l1=iIIiil1);}else{const iIii1i1I=i1I1illI[lil11iIi(0x311,'c$[R')](parseInt,runInterval);i1I1illI[lil11iIi(0x2a7,'lkzb')](iIii1i1I,0x0)&&(i1I1illI[lil11iIi(0x2b3,'8cmA')](i1I1illI[lil11iIi(0x213,'7kvZ')],i1I1illI[lil11iIi(0x300,'IJYy')])?$[lil11iIi(0x282,'ylUn')]=iIii1i1I:ii1I11ll=!![]);}}catch{console[lil11iIi(0x1bc,'RyQS')](i1I1illI[lil11iIi(0x296,'7kvZ')]);}try{const iiIiIilI=i1I1illI[lil11iIi(0x1ba,'4&qu')](parseInt,signHotMaxRetryTimes);signHotMaxRetryTimes=i1I1illI[lil11iIi(0x211,'myz6')](iiIiIilI,0x0)?iiIiIilI:0x0;}catch{signHotMaxRetryTimes=0x3;}try{const il1l1III=i1I1illI[lil11iIi(0x18a,'myz6')](parseInt,taskThreads);if(i1I1illI[lil11iIi(0x19c,'jN(x')](il1l1III,0x0)&&i1I1illI[lil11iIi(0x214,'Mv[!')](il1l1III,0x1)){if(i1I1illI[lil11iIi(0x1d2,'D%iT')](i1I1illI[lil11iIi(0x2f7,'x]e#')],i1I1illI[lil11iIi(0x306,'eVQ^')])){I1IIiiIi[lil11iIi(0x2c6,'Gd#d')](''+iIiIIIII+l1li11I+lil11iIi(0x2fd,'Q&[d')+ii1i1lI[lil11iIi(0x29e,'lkzb')]('，')+'）');for(const lI1I1l1l of iiII111i){l1IlilIi[lil11iIi(0x246,'RyQS')](lI1I1l1l);}}else taskThreads=il1l1III;}}catch{taskThreads=0x1;}try{if(i1I1illI[lil11iIi(0x270,'c$[R')](i1I1illI[lil11iIi(0x20c,'5evJ')],i1I1illI[lil11iIi(0x22c,'Qvse')])){const i1Il11ii=i1I1illI[lil11iIi(0x337,'5F(^')](parseInt,accountThreads);i1I1illI[lil11iIi(0x267,'5evJ')](i1Il11ii,0x0)&&i1I1illI[lil11iIi(0x2ed,'35sT')](i1Il11ii,0x1)&&(accountThreads=i1Il11ii);}else{const llillIl={'CCfBe':function(llli1Il,i1Il1l1){const lIIillli=lil11iIi;return i1I1illI[lIIillli(0x2c5,'Af(j')](llli1Il,i1Il1l1);},'tQHbq':function(lIiIIIli,Ili111II){const i1IiIl1l=lil11iIi;return i1I1illI[i1IiIl1l(0x22b,'8cmA')](lIiIIIli,Ili111II);},'xZkmY':function(liIl1iII){const lIIi1lIl=lil11iIi;return i1I1illI[lIIi1lIl(0x1bf,'4&qu')](liIl1iII);}},lliilii=i1I1illI[lil11iIi(0x17c,'m2tm')](I111llIi,()=>{const l11lli1i=lil11iIi;llillIl[l11lli1i(0x243,'8cmA')](iliiI1Ii,0x0)&&(llillIl[l11lli1i(0x2ce,'OQJL')](IIi11I1,lliilii),llillIl[l11lli1i(0x206,'IJYy')](l11i1Il1));},0x64);}}catch{accountThreads=0x1;}await common[lil11iIi(0x1d6,'AFE!')](accountThreads,cookiesArr,async(li1i1I1i,l11lill)=>{const iillii11=lil11iIi,ilIIIiIi={'YCBFk':i1I1illI[iillii11(0x191,'RyQS')]};if(i1I1illI[iillii11(0x280,'E]lm')](i1I1illI[iillii11(0x2bd,'5F(^')],i1I1illI[iillii11(0x1cd,'JXKo')])){await i1I1illI[iillii11(0x1b3,'OQJL')](concMain,taskThreads,tokensList,li1i1I1i,l11lill,Main);if($[iillii11(0x222,'7kvZ')])$[iillii11(0x297,'EB[s')]($[iillii11(0x29c,'m2tm')]);}else{iI1iIll1[iillii11(0x2e0,'4y!3')](ilIIIiIi[iillii11(0x27d,'@ikx')]);return;}}),isNotify&&notify[lil11iIi(0x1f5,'A[Vk')]()&&(notify[lil11iIi(0x29a,'sJ)q')](notify[lil11iIi(0x1a1,'5)IQ')]),await notify[lil11iIi(0x2c1,'5evJ')]());}catch(ili1iI){i1I1illI[lil11iIi(0x2b5,'A[Vk')](i1I1illI[lil11iIi(0x24f,'7kvZ')],i1I1illI[lil11iIi(0x20f,'JXxX')])?console[lil11iIi(0x2ae,'E]lm')](lil11iIi(0x1fa,'HjdH')+ili1iI):I1Ilili=0x1;}})()[IIilIiIl(0x23f,'CkAO')](l1IlIi1l=>$[IIilIiIl(0x284,'Qj5[')](l1IlIi1l))[IIilIiIl(0x32b,'Q&[d')](()=>$[IIilIiIl(0x1f8,'aJ^]')]());async function Main(i1Il1l,I111Ilil){const ilII1lIi=IIilIiIl,iI1IliIl={'ZuyKf':function(i1ii1iI,lIl1Iiii){return i1ii1iI(lIl1Iiii);},'JrifR':function(liil1,llilill1){return liil1>llilill1;},'USEYa':ilII1lIi(0x326,'ovVH'),'WPHHh':function(Ii111lI,illllIIl){return Ii111lI(illllIIl);},'IfuIQ':function(Iii1Il1i){return Iii1Il1i();},'LGrkS':function(I1illIIl,iiIII1i1){return I1illIIl!==iiIII1i1;},'pHLIi':ilII1lIi(0x298,'Af(j'),'BsubM':ilII1lIi(0x252,'CkAO'),'ArtSM':ilII1lIi(0x199,'x]e#'),'trNnc':function(I1IiiII1,Il11IiIi){return I1IiiII1===Il11IiIi;},'WdnpI':function(llIIiiIi,iII1li1){return llIIiiIi===iII1li1;},'MGXpq':ilII1lIi(0x1a5,'KzZc'),'ozAmG':ilII1lIi(0x26c,'RyQS'),'rYHPJ':function(lI1iI1Ii,IiIliIII){return lI1iI1Ii/IiIliIII;},'pchHh':function(II1IIIIl,illlIiI){return II1IIIIl>illlIiI;},'FfGpr':function(ii11l1iI,I1iiII1l){return ii11l1iI!==I1iiII1l;},'wNEwX':ilII1lIi(0x235,'CkAO'),'potVP':ilII1lIi(0x1d0,'4y!3'),'Elkeh':function(iIll11Il,lll1llii){return iIll11Il!==lll1llii;},'mmsqZ':ilII1lIi(0x262,'Q&[d'),'BoXqg':ilII1lIi(0x1e9,'5evJ'),'AEJJs':ilII1lIi(0x1f1,'Qj5['),'dMYAe':ilII1lIi(0x260,'JXxX'),'ZjTNK':ilII1lIi(0x1be,'aJ^]'),'Nthud':function(lii1Iii,liI1IIii){return lii1Iii===liI1IIii;},'bgZYN':ilII1lIi(0x1f4,'IJYy'),'TtVeL':ilII1lIi(0x1a3,'Qvse'),'Dfjvh':ilII1lIi(0x1fe,'8cmA'),'WqICo':ilII1lIi(0x322,'JXxX'),'vRjlN':function(iIIllII1,i1ilI1i){return iIIllII1(i1ilI1i);},'MHjQO':ilII1lIi(0x333,'^Ifo'),'OalQo':ilII1lIi(0x1d5,'E]lm'),'slHoV':ilII1lIi(0x2a9,'x]e#'),'nICAI':ilII1lIi(0x291,'78R['),'OiYiS':ilII1lIi(0x201,'RyQS'),'uHPLx':function(l1IIiIli,iiIlli1i){return l1IIiIli(iiIlli1i);},'xkMgc':function(lIlIIlii,l1lilIil){return lIlIIlii(l1lilIil);},'aQsul':ilII1lIi(0x27b,'agHh'),'dLESP':ilII1lIi(0x25a,'eVQ^'),'JraBj':ilII1lIi(0x21b,'Q&[d'),'gwDaW':ilII1lIi(0x192,'x]e#'),'uGXWG':ilII1lIi(0x2cb,'agHh'),'YqGaD':ilII1lIi(0x2da,'(29t'),'yascJ':ilII1lIi(0x277,'A[Vk'),'LwhcH':ilII1lIi(0x30a,'OQJL'),'VSiBX':ilII1lIi(0x2d4,'myz6'),'wYeYr':ilII1lIi(0x1f0,'CkAO'),'VawFB':ilII1lIi(0x1eb,'aJ^]'),'XOGsD':ilII1lIi(0x1c6,'JXxX'),'EaqRz':ilII1lIi(0x194,'ylUn'),'LNrzc':function(iIlllIII,iIIIII){return iIlllIII===iIIIII;},'Srqhp':ilII1lIi(0x263,'JXxX'),'FquZB':function(llI11I1l,illilliI){return llI11I1l<illilliI;},'MXSeW':ilII1lIi(0x241,'Qvse'),'zLNpi':function(lillIil1,Ili1lll,l11Ii1I1){return lillIil1(Ili1lll,l11Ii1I1);},'LSBBi':function(iIilii1I,ii1iIiI1){return iIilii1I>=ii1iIiI1;},'fSiab':ilII1lIi(0x2fe,'Af(j'),'SwLaZ':function(IiiIiIll,illiII1){return IiiIiIll||illiII1;},'IyuuW':ilII1lIi(0x2f0,'KzZc'),'DZbXB':function(i1I1ll1I,lI11Ii1l){return i1I1ll1I<lI11Ii1l;},'KlRIe':ilII1lIi(0x1cf,'Qj5['),'NQLsJ':ilII1lIi(0x316,'Af(j')},{title:Ii1i1II1,UA:llIIi1ll,cookie:lIlli11,message:l1llIIi1,jsToken:iiiiIIi1}=I111Ilil;if(invalidTokensMap[ilII1lIi(0x2b6,'IJYy')](i1Il1l))return;const Il1l111i=TokensMap[ilII1lIi(0x25c,'4&qu')](i1Il1l);if(!Il1l111i)return;const Iiiiiii1=Math[ilII1lIi(0x1f7,'D%iT')](iI1IliIl[ilII1lIi(0x2be,'ovVH')](Date[ilII1lIi(0x220,'CkAO')](),0x3e8))+ilII1lIi(0x1e5,'4y!3'),{venderId:lIll11I1,activityId:iIlllIl1}=Il1l111i;if(iI1IliIl[ilII1lIi(0x2a1,'Qj5[')](!lIll11I1,!iIlllIl1)){if(iI1IliIl[ilII1lIi(0x30d,'OQJL')](iI1IliIl[ilII1lIi(0x2e3,'8cmA')],iI1IliIl[ilII1lIi(0x2df,'Gd#d')]))I11lIli=ilillIll;else return;}if(invalidTokensMap[ilII1lIi(0x207,'w254')](i1Il1l))return;let Il1li1I1=![];await iI1IliIl[ilII1lIi(0x2bf,'7kvZ')](l1IIlIIi,iI1IliIl[ilII1lIi(0x176,'x]e#')]);if($[ilII1lIi(0x299,'78R[')])$[ilII1lIi(0x31b,'A[Vk')]($[ilII1lIi(0x2ee,'E]lm')]);if(Il1li1I1&&iI1IliIl[ilII1lIi(0x1ab,'5evJ')](signHotMaxRetryTimes,0x0)){let i1ii1llI=0x0;while(iI1IliIl[ilII1lIi(0x1e3,'eVQ^')](i1ii1llI,signHotMaxRetryTimes)){if(iI1IliIl[ilII1lIi(0x29b,'OQJL')](iI1IliIl[ilII1lIi(0x1ac,'5evJ')],iI1IliIl[ilII1lIi(0x317,'35sT')]))lIi1I1li[ilII1lIi(0x217,'ovVH')]=!![];else{if(invalidTokensMap[ilII1lIi(0x22d,'(29t')](i1Il1l))return;await iI1IliIl[ilII1lIi(0x2d3,'@ikx')](l1IIlIIi,iI1IliIl[ilII1lIi(0x1bd,'ovVH')]);if($[ilII1lIi(0x304,'eVQ^')])$[ilII1lIi(0x297,'EB[s')]($[ilII1lIi(0x29c,'m2tm')]);if(!Il1li1I1)break;i1ii1llI++;}}}function Il11l1(llil,iI11lli){const I1il1i11=ilII1lIi,IiiIl1Il={'zplTD':function(lIlii1l1,IlIII11){const i1i11II=IIi1I1l;return iI1IliIl[i1i11II(0x2c7,'^Ifo')](lIlii1l1,IlIII11);},'dmJdb':function(iii1l1i1,liIi1iII){const il1IIIIl=IIi1I1l;return iI1IliIl[il1IIIIl(0x2d7,'lkzb')](iii1l1i1,liIi1iII);},'LvtFj':iI1IliIl[I1il1i11(0x2ca,'IJYy')],'COGHb':function(ll1l1l1l,iIiIil1I){const Il1ii11I=I1il1i11;return iI1IliIl[Il1ii11I(0x219,'z7X@')](ll1l1l1l,iIiIil1I);},'yYIDf':function(lI11lIlI){const iI1iIii1=I1il1i11;return iI1IliIl[iI1iIii1(0x2f1,'(29t')](lI11lIlI);}};try{if(iI1IliIl[I1il1i11(0x198,'5evJ')](iI1IliIl[I1il1i11(0x2e2,'LNmN')],iI1IliIl[I1il1i11(0x19a,'35sT')]))switch(llil){case iI1IliIl[I1il1i11(0x244,'aJ^]')]:if(iI1IliIl[I1il1i11(0x24e,'m2tm')](iI11lli[I1il1i11(0x276,'35sT')],0xc8)&&iI1IliIl[I1il1i11(0x239,'IJYy')](iI11lli[I1il1i11(0x328,'5evJ')],!![])){const i1illIi=[];if(iI11lli[I1il1i11(0x179,'agHh')]&&iI1IliIl[I1il1i11(0x180,'78R[')](iI11lli[I1il1i11(0x2fc,'E]lm')][I1il1i11(0x229,'z7X@')],0x0))for(const iiilI1l of iI11lli[I1il1i11(0x250,'5)IQ')]){const ll1Il1iI=iiilI1l?.[I1il1i11(0x32a,'AFE!')]||[];for(const Ii1lii1 of ll1Il1iI){if(iI1IliIl[I1il1i11(0x334,'KzZc')](iI1IliIl[I1il1i11(0x24d,'5)IQ')],iI1IliIl[I1il1i11(0x2bc,'Qj5[')]))i1i1IiIl[I1il1i11(0x1ca,'5)IQ')](lIll1l11,iiii1lIl[l11lIilI]);else{const IiIlllI=Ii1lii1?.[I1il1i11(0x204,'OQJL')],IIIllIlI=Ii1lii1?.[I1il1i11(0x2b7,'%&U(')];let l1I11l1I='';switch(IiIlllI){case 0x1:l1I11l1I=iI1IliIl[I1il1i11(0x330,'JXKo')];break;case 0x4:l1I11l1I=IIIllIlI+I1il1i11(0x1b4,'KzZc');break;case 0x6:l1I11l1I=IIIllIlI+I1il1i11(0x1fd,'HjdH');break;case 0x9:l1I11l1I=Ii1lii1?.[I1il1i11(0x301,'^Ifo')][0x0]?.[I1il1i11(0x2c0,'8cmA')]+'🎁';break;case 0xa:l1I11l1I=IIIllIlI+I1il1i11(0x2ac,'Qvse');break;case 0xe:l1I11l1I=iI1IliIl[I1il1i11(0x20b,'%&U(')](IIIllIlI,0x64)+I1il1i11(0x31d,'z7X@');break;default:l1I11l1I=I1il1i11(0x323,'35sT')+IiIlllI+'）';}i1illIi[I1il1i11(0x25f,'sJ)q')](l1I11l1I);}}}if(iI1IliIl[I1il1i11(0x1f9,'x]e#')](i1illIi[I1il1i11(0x248,'eVQ^')],0x0)){if(iI1IliIl[I1il1i11(0x188,'4&qu')](iI1IliIl[I1il1i11(0x1d9,'Af(j')],iI1IliIl[I1il1i11(0x1af,'CkAO')])){console[I1il1i11(0x1ae,'m2tm')](''+Ii1i1II1+i1Il1l+I1il1i11(0x1a6,'Qvse')+i1illIi[I1il1i11(0x2e9,'5evJ')]('，')+'）');for(const li1I1lI1 of i1illIi){if(iI1IliIl[I1il1i11(0x2d0,']VI5')](iI1IliIl[I1il1i11(0x29d,'35sT')],iI1IliIl[I1il1i11(0x1ce,'RyQS')]))l1llIIi1[I1il1i11(0x1ad,'z7X@')](li1I1lI1);else{const I1llliIl=IiiIl1Il[I1il1i11(0x261,'Qvse')](IIiiiII1,i1liI1);iilIlIII=IiiIl1Il[I1il1i11(0x24c,'JXxX')](I1llliIl,0x0)?I1llliIl:0x0;}}}else{I1l1I11[I1il1i11(0x1a2,'^Ifo')](IiiIl1Il[I1il1i11(0x1d3,'Qj5[')]);return;}}else console[I1il1i11(0x1c4,'JXxX')](''+Ii1i1II1+i1Il1l+I1il1i11(0x2f9,'Qd*A'));Il1li1I1=![];}else{if(iI1IliIl[I1il1i11(0x2d6,'Qj5[')](iI11lli[I1il1i11(0x30b,'Qonz')],0xc8)){if(iI1IliIl[I1il1i11(0x20e,'aJ^]')](iI1IliIl[I1il1i11(0x177,'z7X@')],iI1IliIl[I1il1i11(0x1fc,'7kvZ')])){const Il1lli=signStatusMessages[iI11lli[I1il1i11(0x1c8,'D%iT')]]||iI11lli[I1il1i11(0x1f2,'A[Vk')]+I1il1i11(0x190,'Qvse');[0x1843da61,0x1843da62,0x192][I1il1i11(0x245,'ylUn')](iI11lli[I1il1i11(0x2aa,'7kvZ')])&&(iI1IliIl[I1il1i11(0x181,'Gd#d')](iI1IliIl[I1il1i11(0x240,'eVQ^')],iI1IliIl[I1il1i11(0x2a2,'78R[')])?invalidTokensMap[I1il1i11(0x208,'Qvse')](i1Il1l,!![]):IIl1I11I[I1il1i11(0x1b7,'z7X@')](iliiI11i,!![])),console[I1il1i11(0x221,'Qvse')](''+Ii1i1II1+i1Il1l+I1il1i11(0x264,'35sT')+Il1lli+'）'),(iI1IliIl[I1il1i11(0x319,'LNmN')](iI11lli[I1il1i11(0x2c8,'z7X@')],'-1')||iI1IliIl[I1il1i11(0x2b4,'5F(^')](iI11lli[I1il1i11(0x275,'@ikx')],-0x1))&&(Il1li1I1=!![]);}else{lIll1l1l[I1il1i11(0x1c4,'JXxX')](''+li1IIl+l1i111+I1il1i11(0x236,'c$[R')+IiIIlII[I1il1i11(0x31a,'z7X@')]+'）');if(!I1l1I11i[IiI1iIlI[I1il1i11(0x281,'E]lm')]])IiIiIiI1=!![];}}else{if(iI11lli[I1il1i11(0x21c,'AFE!')]){if(iI1IliIl[I1il1i11(0x30f,'EB[s')](iI1IliIl[I1il1i11(0x294,'5)IQ')],iI1IliIl[I1il1i11(0x1c1,'myz6')]))IiiIl1Il[I1il1i11(0x2c3,'Qd*A')](lIii1iil,ilI11il1),IiiIl1Il[I1il1i11(0x1da,'z7X@')](ii1iIilI);else{console[I1il1i11(0x1ae,'m2tm')](''+Ii1i1II1+i1Il1l+I1il1i11(0x305,'lkzb')+iI11lli[I1il1i11(0x31a,'z7X@')]+'）');if(!signStatusMessages[iI11lli[I1il1i11(0x223,'4&qu')]])Il1li1I1=!![];}}else console[I1il1i11(0x212,'LNmN')](''+Ii1i1II1+i1Il1l+I1il1i11(0x1b9,'Q&[d')+JSON[I1il1i11(0x249,'4&qu')](iI11lli));}}break;}else iii11III[I1il1i11(0x31f,'Af(j')](''+li1IiIli+lliI1Il1+I1il1i11(0x227,']VI5'));}catch(illIiiI1){iI1IliIl[I1il1i11(0x2b8,'AFE!')](iI1IliIl[I1il1i11(0x274,'EB[s')],iI1IliIl[I1il1i11(0x266,'E]lm')])?IllII1ii[I1il1i11(0x313,'A[Vk')](''+llllIl1+Il11III1+I1il1i11(0x258,'^Ifo')+il1lil1I[I1il1i11(0x335,'Qj5[')](Iii1)):console[I1il1i11(0x2e7,'x]e#')](I1il1i11(0x253,'aJ^]')+llil+I1il1i11(0x1df,'AFE!')+(illIiiI1[I1il1i11(0x21d,'Q&[d')]||illIiiI1));}}async function l1IIlIIi(il1iliII){const iiII11l1=ilII1lIi;if(iI1IliIl[iiII11l1(0x186,'@ikx')](iI1IliIl[iiII11l1(0x256,'c$[R')],iI1IliIl[iiII11l1(0x289,'JXxX')])){let Ilii1i1i='',Ii1IlllI=null,ii1Ill1I=null,IiilliI1=iI1IliIl[iiII11l1(0x1b6,'EB[s')],lI1Il1lI={},IlllII1={};switch(il1iliII){case iI1IliIl[iiII11l1(0x1ef,'AFE!')]:IlllII1={'appId':iI1IliIl[iiII11l1(0x18b,'z7X@')],'functionId':iI1IliIl[iiII11l1(0x1e2,'7kvZ')],'appid':iI1IliIl[iiII11l1(0x2c9,'RyQS')],'body':{'token':i1Il1l,'venderId':iI1IliIl[iiII11l1(0x196,'eVQ^')](parseInt,lIll11I1)||'','activityId':iI1IliIl[iiII11l1(0x2ef,'Qj5[')](parseInt,iIlllIl1)||'','type':0x38,'actionType':0x7},'version':iI1IliIl[iiII11l1(0x25d,'ovVH')],'ua':llIIi1ll},lI1Il1lI=await H5st[iiII11l1(0x338,'Q&[d')](IlllII1),Ilii1i1i=iI1IliIl[iiII11l1(0x224,'^Ifo')],ii1Ill1I=Object[iiII11l1(0x1a9,'E]lm')]({},lI1Il1lI[iiII11l1(0x2b2,'35sT')],{'jsonp':iI1IliIl[iiII11l1(0x2c4,'A[Vk')]});break;}const li11llll={'t':Iiiiiii1,'loginType':'2','x-api-eid-token':iiiiIIi1};Ii1IlllI&&Object[iiII11l1(0x26a,']VI5')](Ii1IlllI,li11llll);ii1Ill1I&&Object[iiII11l1(0x2a8,'ylUn')](ii1Ill1I,li11llll);const IlliIiIi={'url':Ilii1i1i,'method':IiilliI1,'headers':{'Accept':iI1IliIl[iiII11l1(0x26d,'A[Vk')],'Accept-Encoding':iI1IliIl[iiII11l1(0x1e0,'ylUn')],'Accept-Language':iI1IliIl[iiII11l1(0x1f3,'Qonz')],'Connection':iI1IliIl[iiII11l1(0x17b,'w254')],'Content-Type':iI1IliIl[iiII11l1(0x32d,'Gd#d')],'Host':iI1IliIl[iiII11l1(0x247,'EB[s')],'Referer':iI1IliIl[iiII11l1(0x2b1,'eVQ^')],'Sec-Fetch-Dest':iI1IliIl[iiII11l1(0x218,'JXxX')],'Sec-Fetch-Mode':iI1IliIl[iiII11l1(0x2e5,'4&qu')],'Sec-Fetch-Site':iI1IliIl[iiII11l1(0x254,'ovVH')],'User-Agent':llIIi1ll,'Cookie':lIlli11},'params':ii1Ill1I,'data':Ii1IlllI,'timeout':0x7530};iI1IliIl[iiII11l1(0x2eb,'w254')](IiilliI1,iI1IliIl[iiII11l1(0x271,'@ikx')])&&(delete IlliIiIi[iiII11l1(0x2b0,'jN(x')],delete IlliIiIi[iiII11l1(0x226,'CkAO')][iI1IliIl[iiII11l1(0x187,'ovVH')]]);const I1Illlii=0x3;let iilIl1ll=0x0,lll11I1l=null,i1l111II=![];while(iI1IliIl[iiII11l1(0x200,'c$[R')](iilIl1ll,I1Illlii)){if(iI1IliIl[iiII11l1(0x225,'Qvse')](iI1IliIl[iiII11l1(0x2d9,'x]e#')],iI1IliIl[iiII11l1(0x269,'7kvZ')])){const llIliIIl=await common[iiII11l1(0x1d4,'ovVH')](IlliIiIi);if(!llIliIIl[iiII11l1(0x1c7,'Qj5[')]){lll11I1l=''+Ii1i1II1+i1Il1l+iiII11l1(0x20a,'5evJ')+llIliIIl[iiII11l1(0x25e,'jN(x')]+iiII11l1(0x324,'E]lm'),iilIl1ll++;continue;}if(!llIliIIl[iiII11l1(0x255,'%&U(')]){lll11I1l=''+Ii1i1II1+i1Il1l+iiII11l1(0x210,'@ikx'),iilIl1ll++;continue;}iI1IliIl[iiII11l1(0x1c0,'OQJL')](Il11l1,il1iliII,llIliIIl[iiII11l1(0x2cf,'aJ^]')]),i1l111II=![];break;}else return;}iI1IliIl[iiII11l1(0x2f2,'8cmA')](iilIl1ll,I1Illlii)&&(iI1IliIl[iiII11l1(0x1ec,'4&qu')](iI1IliIl[iiII11l1(0x21e,'KzZc')],iI1IliIl[iiII11l1(0x278,'w254')])?(console[iiII11l1(0x30e,'KzZc')](lll11I1l),i1l111II&&($[iiII11l1(0x314,'5evJ')]=!![])):lIIIIli1[iiII11l1(0x2f4,'CkAO')](iIII1ll,lllIlI));}else{const iIlI1llI=I1iiiill[iiII11l1(0x2cc,'KzZc')]();II1i1lIl++,lliilIIi[iiII11l1(0x2dc,'8cmA')](iI1IliIl[iiII11l1(0x2ea,'eVQ^')](I1i111lI,iIlI1llI));}}}async function concMain(iIiIl1Il=0x1,IilI1IIl,i1lIIIlI,iIiIl1,iiII111){const IIIl1I1=IIilIiIl,i11lil={'UsrSk':function(iillliil,Iii1I11I){return iillliil(Iii1I11I);},'hhLDw':function(liIiiII,lliiiiIl){return liIiiII>lliiiiIl;},'Iebmu':IIIl1I1(0x1a0,'x]e#'),'IoxFq':function(i11IllI1,lll11iIi){return i11IllI1===lll11iIi;},'xBFlT':IIIl1I1(0x27c,'D%iT'),'XTqed':function(IIilIil,IIilIIli,IilIIIil){return IIilIil(IIilIIli,IilIIIil);},'soOda':function(l11I1iII){return l11I1iII();},'ZHGrz':function(lillIIll,lIIl11II){return lillIIll!==lIIl11II;},'kLsVN':IIIl1I1(0x26f,'w254'),'wKrnD':IIIl1I1(0x2d8,'5evJ'),'dRxML':function(liilliII,iI1llll){return liilliII<iI1llll;},'KZmBs':function(i1illIIl,IIiIl1Il){return i1illIIl===IIiIl1Il;},'gukLp':IIIl1I1(0x31c,'4y!3'),'bSTDL':IIIl1I1(0x182,'5evJ'),'Lkmbg':function(i1li1Il,IiiIiIil){return i1li1Il>IiiIiIil;},'OaXGA':function(l1liil1i,l1iiiil1){return l1liil1i(l1iiiil1);},'TKTVp':IIIl1I1(0x310,'A[Vk'),'mJIPD':IIIl1I1(0x292,'HjdH'),'BTrKu':function(iIl11i1I,ll1IilIl,iI111Ii){return iIl11i1I(ll1IilIl,iI111Ii);},'hsYbT':function(iIiIIIli,iilIllil){return iIiIIIli(iilIllil);},'Ocmdv':IIIl1I1(0x2dd,'@ikx'),'LcrwN':function(il1i1l,IiI1l1l1,lil1lIii,iliI1iIi){return il1i1l(IiI1l1l1,lil1lIii,iliI1iIi);},'uVCLH':IIIl1I1(0x32e,'4y!3'),'pmAym':IIIl1I1(0x286,'AFE!'),'lZkbU':IIIl1I1(0x331,'RyQS'),'dIjCZ':function(llIl1iIi,IiliIIi){return llIl1iIi===IiliIIi;},'rSnGB':IIIl1I1(0x2ad,'Mv[!'),'SrGec':function(i111liI,i1IIiliI){return i111liI===i1IIiliI;},'EmTia':IIIl1I1(0x1cc,'Qvse'),'WwMBZ':IIIl1I1(0x18d,'Mv[!'),'XMJau':function(II1i1IIl,IIi1Ii1I){return II1i1IIl(IIi1Ii1I);},'davMf':function(ii1I11I1){return ii1I11I1();}},i1111Ii=IilI1IIl[IIIl1I1(0x329,'Qvse')](iIIlii11=>iIIlii11),lil11II1=i11lil[IIIl1I1(0x295,'JXxX')](decodeURIComponent,common[IIIl1I1(0x1e4,'EB[s')](i1lIIIlI,i11lil[IIIl1I1(0x2f6,'aJ^]')])),lllIili1=notify[IIIl1I1(0x1ed,'c$[R')](iIiIl1,lil11II1),IIiIiiil=IIIl1I1(0x28d,'35sT')+iIiIl1+'】'+lil11II1+'：',I1ilil=common[IIIl1I1(0x2d2,'Qd*A')](lil11II1),{jsToken:II111i1I}=await i11lil[IIIl1I1(0x1e7,'Qonz')](jsTk,I1ilil,i11lil[IIIl1I1(0x228,'EB[s')],{'bizId':i11lil[IIIl1I1(0x1a8,'Qj5[')],'v':i11lil[IIIl1I1(0x2e6,'jN(x')],'qs':IIIl1I1(0x315,'m2tm')+IilI1IIl[0x0]}),iiIli11={'title':IIiIiiil,'UA':I1ilil,'cookie':i1lIIIlI,'index':iIiIl1,'message':lllIili1,'jsToken':II111i1I},lil11IiI=await common[IIIl1I1(0x318,'Gd#d')](i1lIIIlI);if(!lil11IiI&&i11lil[IIIl1I1(0x2ff,'lkzb')](typeof lil11IiI,i11lil[IIIl1I1(0x1de,'35sT')])){console[IIIl1I1(0x2f5,'HjdH')](IIiIiiil+IIIl1I1(0x19b,'JXxX'));return;}let ll11Ili=0x0;async function iI1lIi1i(lIiiIi1i){const IiI111II=IIIl1I1,I1Il11i1={'tiYba':function(I1lIll,il11111i){const iIillIIi=IIi1I1l;return i11lil[iIillIIi(0x273,']VI5')](I1lIll,il11111i);},'Uxkcu':function(iIIIIiI,I1I1Iili){const liIil1il=IIi1I1l;return i11lil[liIil1il(0x33a,'agHh')](iIIIIiI,I1I1Iili);},'cLEaq':i11lil[IiI111II(0x19d,'Q&[d')]};if(i11lil[IiI111II(0x195,'myz6')](i11lil[IiI111II(0x312,'78R[')],i11lil[IiI111II(0x22a,'KzZc')]))await i11lil[IiI111II(0x21f,'OQJL')](iiII111,lIiiIi1i,iiIli11),ll11Ili--,i11lil[IiI111II(0x18f,'jN(x')](lli1l);else try{const lI1i1IlI=I1Il11i1[IiI111II(0x2bb,'Qvse')](iiIii111,iiIiIIi);I1Il11i1[IiI111II(0x18c,'z7X@')](lI1i1IlI,0x0)&&(llliIiIi[IiI111II(0x24a,'AFE!')]=lI1i1IlI);}catch{il1IIl11[IiI111II(0x212,'LNmN')](I1Il11i1[IiI111II(0x31e,'RyQS')]);}}async function lli1l(){const Iililil1=IIIl1I1;if(i11lil[Iililil1(0x1cb,'aJ^]')](i11lil[Iililil1(0x23d,'ylUn')],i11lil[Iililil1(0x293,'w254')]))while(i11lil[Iililil1(0x332,'7kvZ')](ll11Ili,iIiIl1Il)&&i11lil[Iililil1(0x25b,'8cmA')](i1111Ii[Iililil1(0x30c,'c$[R')],0x0)){if(i11lil[Iililil1(0x28e,'IJYy')](i11lil[Iililil1(0x251,'agHh')],i11lil[Iililil1(0x2d1,'5)IQ')]))III1iiI1[Iililil1(0x2fa,'Qonz')](IIlI1Iii);else{const I1iiilII=i1111Ii[Iililil1(0x2cd,'RyQS')]();ll11Ili++,await i11lil[Iililil1(0x185,'JXKo')](iI1lIi1i,I1iiilII);}}else i1IIill[Iililil1(0x321,'(29t')](I1iIlIIl),IIlIi1Il&&(iil1iIll[Iililil1(0x27a,'7kvZ')]=!![]);}const III1il1l=Math[IIIl1I1(0x234,'Mv[!')](i1111Ii[IIIl1I1(0x1c5,'35sT')],iIiIl1Il),l1lI1ili=[];for(let II1ilIiI=0x0;i11lil[IIIl1I1(0x28b,'AFE!')](II1ilIiI,III1il1l);II1ilIiI++){if(i11lil[IIIl1I1(0x272,'Qonz')](i11lil[IIIl1I1(0x2de,'^Ifo')],i11lil[IIIl1I1(0x1c9,'Gd#d')]))I1iiiiI1=iIiliii;else{const iIilIIi1=i1111Ii[IIIl1I1(0x23a,'Qd*A')]();ll11Ili++,l1lI1ili[IIIl1I1(0x2d5,'aJ^]')](i11lil[IIIl1I1(0x2c2,'D%iT')](iI1lIi1i,iIilIIi1));}}await Promise[IIIl1I1(0x1c3,'35sT')](l1lI1ili),i11lil[IIIl1I1(0x2ec,'CkAO')](lli1l),await new Promise(l1Iii11i=>{const liii1iiI=IIIl1I1,iIl11l1={'NNmrz':function(iilli1I,lII1liII){const iIIiii1l=IIi1I1l;return i11lil[iIIiii1l(0x2a4,'jN(x')](iilli1I,lII1liII);},'ulmne':function(IIi1IIIl,I11lil1i){const I1IlIi1=IIi1I1l;return i11lil[I1IlIi1(0x23e,'sJ)q')](IIi1IIIl,I11lil1i);},'SqLpa':function(iIiIIili){const Ii1i1I1I=IIi1I1l;return i11lil[Ii1i1I1I(0x28c,'Qonz')](iIiIIili);},'ddHEZ':function(IIiilIli,Il11lll){const lliiIIIl=IIi1I1l;return i11lil[lliiIIIl(0x1dc,']VI5')](IIiilIli,Il11lll);},'cFUwG':i11lil[liii1iiI(0x22e,'OQJL')]};if(i11lil[liii1iiI(0x202,'OQJL')](i11lil[liii1iiI(0x1b0,'Qd*A')],i11lil[liii1iiI(0x307,'(29t')])){const llll1i1=i11lil[liii1iiI(0x1c2,'CkAO')](I1Ii1ll,I1il1lIi);i11lil[liii1iiI(0x189,'JXKo')](llll1i1,0x0)&&(I1lIl1iI[liii1iiI(0x304,'eVQ^')]=llll1i1);}else{const I1IiiIii=i11lil[liii1iiI(0x215,'RyQS')](setInterval,()=>{const l1IlII11=liii1iiI,liiill1I={'JPNqB':function(iiIil11i,IIii1li){const l1ll111i=IIi1I1l;return iIl11l1[l1ll111i(0x1ea,'RyQS')](iiIil11i,IIii1li);},'kdkla':function(iII1iil,il1iIIll){const iliI1i=IIi1I1l;return iIl11l1[iliI1i(0x2a5,'4&qu')](iII1iil,il1iIIll);},'YcOHm':function(llllIiil){const i11IIi1i=IIi1I1l;return iIl11l1[i11IIi1i(0x17d,'z7X@')](llllIiil);}};iIl11l1[l1IlII11(0x26b,'Qd*A')](ll11Ili,0x0)&&(iIl11l1[l1IlII11(0x197,'(29t')](iIl11l1[l1IlII11(0x290,'agHh')],iIl11l1[l1IlII11(0x193,'@ikx')])?(iIl11l1[l1IlII11(0x308,'Af(j')](clearInterval,I1IiiIii),iIl11l1[l1IlII11(0x1b8,'35sT')](l1Iii11i)):liiill1I[l1IlII11(0x1ff,'D%iT')](il1liil,0x0)&&(liiill1I[l1IlII11(0x242,'%&U(')](IiIIlllI,IlI11i1),liiill1I[l1IlII11(0x279,'Mv[!')](ii1iIlIl)));},0x64);}});}var version_ = 'jsjiami.com.v7';

// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
